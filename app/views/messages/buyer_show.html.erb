<div class="container">
  <div class="row">
    <div class="col-3">
      <% @buyers_messages.first.each do |seller| %>
        <div class="message-link" id="m-no-<%= seller.id %>">
          <%= seller.name %>
        </div>
      <% end %>
    </div>

    <div class="col-9">
      <% @buyers_messages.last.each do |m_a| %>
        <div class="message-holder" id="mh-no-<%= m_a.first.seller_id %>">
          <% m_a.each do |m| %>
            <div class="message <%= m.sender %> b-id-<%= m.seller_id %>">
              <%= m.content %>
            </div>
          <% end %>
          <br />
        </div>
      <% end %>
    </div>
  </div>
</div>

<style media="screen">

  .true {
    background-color: rgba(81, 190, 181, 1);
    border: 1px solid #57BDB5;
    text-align: left;
  }

  .false {
    border: 1px solid #57BDB5;
    text-align: right;
    margin-left: auto;
  }
</style>

<script type="text/javascript">
  $(document).ready( () => {
    $('.message-holder').hide();
    $('.message-link').css('background-color', 'rgba(255, 255, 255, 0)');

    $('.message-link').click( function() {
      $('.message-link').css('background-color', 'rgba(255, 255, 255, 0)');
      let clicky = $(this).siblings('.message-holder');
      clicky.show();
      $(this).css('background-color', 'rgba(81, 190, 181, 0.2)');
      $('.message-holder').not(clicky).hide();
    })
  })
</script>
